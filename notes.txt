
    <!-- Everything outside the shell is overwritten-->
    <calcite-shell>        
        <!--<h1>National Park Services: Points of Interest</h1>-->
        <calcite-navigation slot="header">
          <calcite-navigation-logo slot="logo" />
        </calcite-navigation>
        <!-- The map of the world provided by arcGIS -->
        <arcgis-map item-id="e691172598f04ea8881cd2a4adaa45ba" zoom="4">
            <arcgis-layer-list position="top-right" />
          </arcgis-map>
      </calcite-shell>


      defineCalciteElements(window, {
    resourcesUrl: "https://js.arcgis.com/calcite-components/2.5.1/assets"
  });
  
defineMapElements(window, {
resourcesUrl: "https://js.arcgis.com/map-components/4.29/assets"
});

document.querySelector("arcgis-layer-list").addEventListener("arcgisLayerListReady", (event) => {
    const arcgisLayerList = event.target;
    arcgisLayerList.listItemCreatedFunction = (event) => {
        const { item } = event;
        if (item.layer.type !== "group") {
          item.panel = {
            content: "legend"
          };
        }
      };
});

document.querySelector("arcgis-map").addEventListener("arcgisViewReadyChange", (event) => {
    const { portalItem } = event.target.map;
    const navigationLogo = document.querySelector("calcite-navigation-logo");
    navigationLogo.heading = "National Park Services: Points of Interest";
    navigationLogo.description = ""
    navigationLogo.thumbnail = "NPS.png"
  
    const layer = event.target.map.layers.find((layer) => layer.id === "Accidental_Deaths_8938");
    layer.popupTemplate.title = "Accidental Deaths";

    //const layer = event.target.map.layers.find((layer) => layer.id === 
    //layer.popupTemplate.title = "National Park Services: Points of Interest";
  });